{% extends "base.html" %}

{% block content %}
    <div class="entry">
        <h2>
            {{ exercise.title }}
        </h2>
        <p>{{ exercise.description }}</p>
        <p><strong>Note Range:</strong> {{ exercise.note_range }}</p>
        <p><strong>Musical Concept:</strong> {{ exercise.musical_concept }}</p>

        <!-- Avg difficulty-->
        {% if exercise.avg_difficulty %}
            <p><strong>Average Difficulty:</strong> {{ exercise.avg_difficulty }} / 5</p>
        {% else %}
            <p><em>No difficulty ratings yet</em></p>
        {% endif %}

        <p class="date">Created: {{ exercise.created_at }}</p>
    </div>

    <div class="diagram-container">
        <img src="{{ exercise.svg_diagram_path }}" alt="Fretboard diagram showing all positions of {{ exercise.note_range }} on guitar neck">
    </div>

    <a href="{{ url_for('create_session_route', exercise_id=exercise.id) }}">
        <button>Practice This Exercise</button>
    </a>

    {% if session.get('is_admin') == 1 %}
        <div class="button-group">
            <form method="GET" action="{{ url_for('edit_exercise_route', exercise_id=exercise.id) }}">
                <button type="submit">Edit</button>
            </form>
            <form method="POST" action="{{ url_for('delete_exercise_route', exercise_id=exercise.id) }}">
                <button type="submit">Delete</button>
            </form>
        </div>
    {% endif %}

    <p style="margin-top: 1.5rem;">
        <a href="{{ url_for('browse_exercises') }}">‚Üê Back to all exercises</a>
    </p>
{% endblock %}
